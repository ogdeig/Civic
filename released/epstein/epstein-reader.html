<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Released Files ‚Ä¢ Epstein Files | Civic Threat</title>

  <meta name="description" content="Listen to released Epstein court PDFs with text-to-speech, page-by-page controls, and a built-in viewer. Adults 21+ only." />
  <meta name="robots" content="index,follow" />

  <meta property="og:title" content="Released Files ‚Ä¢ Epstein Files | Civic Threat" />
  <meta property="og:description" content="Listen to released Epstein court PDFs with text-to-speech, page-by-page controls, and a built-in viewer. Adults 21+ only." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://civicthreat.us/released/epstein/epstein-reader" />
  <meta property="og:image" content="https://civicthreat.us/assets/civicthreat-social-1200x630.jpg" />

  <link rel="icon" href="/assets/logo.png" />
  <link rel="stylesheet" href="/styles.css" />

  <style>
    .page-wrap{ max-width: 1120px; margin: 0 auto; padding: 22px 16px 42px; }
    .hero{ padding: 18px 0 10px; }
    .hero h1{ margin: 0 0 6px; font-size: clamp(26px, 4vw, 38px); letter-spacing:.02em; }
    .hero p{ margin: 0; opacity: .9; line-height: 1.5; }

    /* Square containers (match rest of site) */
    .ep-box{ border-radius: 0 !important; }
    .ep-grid{ display:grid; grid-template-columns: 1.15fr .85fr; gap: 16px; margin-top: 16px; }
    @media (max-width: 980px){ .ep-grid{ grid-template-columns: 1fr; } }

    .ep-panel{ border: 1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.25); }
    .ep-panel .pad{ padding: 14px; }

    .ep-label{ font-size: 12px; opacity: .85; margin: 0 0 6px; }
    .ep-row{ display:flex; gap:12px; flex-wrap: wrap; align-items: end; }
    .ep-row > .field{ flex: 1 1 240px; min-width: 220px; }
    .ep-row > .field.small{ flex: 0 0 180px; min-width: 160px; }

    select{
      width: 100%;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.35);
      color: #fff;
      outline: none;
      border-radius: 0;
    }

    .ep-controls{ display:flex; gap:10px; flex-wrap: wrap; margin-top: 12px; }
    .ep-controls .btn{ border-radius: 0 !important; }

    .ep-status{
      margin-top: 12px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.35);
      border-radius: 0;
      min-height: 54px;
    }
    .ep-status strong{ display:block; margin-bottom: 4px; }
    .ep-status .big{ font-size: 16px; font-weight: 900; letter-spacing:.02em; }

    .viewer-wrap{ display:flex; flex-direction: column; gap: 10px; }
    .viewer-top{ display:flex; justify-content: space-between; align-items: center; gap: 10px; }
    .viewer-top .meta{ font-size: 12px; opacity: .85; }

    .viewer-shell{
      width: 100%;
      background: #000;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 0;
      min-height: 420px;
      overflow: hidden;
    }
    .viewer-canvas{
      width: 100%;
      height: auto;
      display:block;
      background:#000;
    }

    /* Disclosure */
    .legal{
      margin-top: 12px;
      font-size: 12px;
      opacity: .82;
      line-height: 1.5;
    }

    /* Viewer pop-out modal (PDF) */
    .viewer-modal{
      position: fixed;
      inset: 0;
      z-index: 9998;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,.82);
      padding: 18px;
    }
    .viewer-modal.open{ display:flex; }
    .viewer-modal .card{
      width: min(1080px, 96vw);
      max-height: 92vh;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,10,10,.94);
      border-radius: 0;
      box-shadow: 0 20px 60px rgba(0,0,0,.6);
      display:flex;
      flex-direction: column;
    }
    .viewer-modal .head{
      padding: 12px 12px 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      display:flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }
    .viewer-modal .head strong{ letter-spacing:.02em; }
    .viewer-modal .body{
      padding: 12px;
      overflow: auto;
    }

    /* 21+ gate */
    .gate{
      position: fixed; inset: 0; z-index: 9999;
      background: rgba(0,0,0,.78);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
    }
    .gate .card{
      width: min(720px, 100%);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,10,10,.92);
      border-radius: 0;
      padding: 18px;
      box-shadow: 0 20px 60px rgba(0,0,0,.6);
    }
    .gate h2{ margin: 0 0 10px; font-size: 22px; }
    .gate p{ margin: 0 0 10px; opacity: .9; line-height: 1.55; }
    .gate .row{ display:flex; gap: 12px; align-items: center; flex-wrap: wrap; margin-top: 12px; }
    .gate label{ display:flex; gap:10px; align-items:center; cursor:pointer; }
    .gate input[type="checkbox"]{ width: 18px; height: 18px; }
    .gate .actions{ display:flex; gap: 10px; flex-wrap: wrap; justify-content: flex-end; margin-top: 14px; }
    .gate .btn{ border-radius: 0 !important; }
    .gate .legal{ margin-top: 10px; font-size: 12px; opacity: .8; line-height: 1.45; }

    /* safety net: ensure footer matches header red */
    .site-footer{ background: var(--red) !important; color:#fff; }
    .site-footer a{ color:#fff; }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z03YK1FYXW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z03YK1FYXW');
  </script>
</head>

<body>
  <!-- Header injected by app.js -->
  <div id="siteHeader"></div>

  <main class="page-wrap">
    <header class="hero">
      <h1>Released Files ‚Ä¢ Epstein Files</h1>
      <p>
        Pick a PDF, choose a voice and speed, then press Play. Use Prev/Next to move one page at a time.
        Use Skip Word to jump forward quickly while listening.
      </p>
    </header>

    <!-- PLAYER + VIEWER (TOP AREA) -->
    <section class="ep-grid">
      <!-- LEFT: Player -->
      <div class="ep-panel ep-box">
        <div class="pad">
          <div class="ep-row">
            <div class="field">
              <div class="ep-label">Choose a PDF</div>
              <select id="pdfSelect" aria-label="Choose a PDF">
                <option value="">Loading PDFs‚Ä¶</option>
              </select>
            </div>
            <div class="field">
              <div class="ep-label">Voice</div>
              <select id="voiceSelect" aria-label="Choose a voice">
                <option value="">Loading voices‚Ä¶</option>
              </select>
            </div>
            <div class="field small">
              <div class="ep-label">Speed</div>
              <select id="speedSelect" aria-label="Choose reading speed">
                <option value="1">1.0√ó</option>
                <option value="1.25">1.25√ó</option>
                <option value="1.5">1.5√ó</option>
                <option value="2">2.0√ó</option>
              </select>
            </div>
          </div>

          <div class="ep-controls" role="group" aria-label="Playback controls">
            <button class="btn blue" id="btnPlay" type="button">‚ñ∂ Play</button>
            <button class="btn" id="btnPause" type="button">‚è∏ Pause</button>
            <button class="btn danger" id="btnStop" type="button">‚èπ Stop</button>

            <button class="btn" id="btnPrev" type="button">‚Üê Prev Page</button>
            <button class="btn" id="btnNext" type="button">Next Page ‚Üí</button>

            <button class="btn" id="btnMute" type="button">üîá Mute</button>

            <button class="btn" id="btnSkipWord" type="button" title="Skip forward one word (tap repeatedly to skip faster)">‚è© Skip Word</button>

            <button class="btn" id="btnAutoRead" type="button" aria-pressed="false" title="Automatically advance to the next PDF when finished">‚è≠ Auto-Read: Off</button>
            <button class="btn" id="btnLoop" type="button" aria-pressed="false" title="Loops current PDF (unless Auto-Read is on, then loops all PDFs)">üîÅ Loop: Off</button>

            <button class="btn" id="btnSkipFile" type="button" title="Skip to the next PDF file">‚è≠ Skip File</button>
          </div>

          <div class="ep-status ep-box" id="statusBox" aria-live="polite">
            <strong class="big" id="statusTitle">Ready.</strong>
            <div id="statusLine">Select a PDF to begin.</div>
          </div>

          <div class="legal">
            <strong>Disclosure:</strong> This page provides text-to-speech playback and viewing of publicly released documents.
            Content may be explicit, disturbing, or contain allegations. Civic Threat does not endorse wrongdoing and does not make claims about guilt or innocence.
            This tool is provided for accessibility, public-interest review, and discussion. For full context, consult the complete PDF and primary sources.
          </div>
        </div>
      </div>

      <!-- RIGHT: Viewer -->
      <div class="ep-panel ep-box">
        <div class="pad viewer-wrap">
          <div class="viewer-top">
            <div><strong>Viewer</strong></div>
            <div style="display:flex; gap:10px; align-items:center;">
              <div class="meta" id="pageMeta">No PDF loaded.</div>
              <button class="btn" id="btnPopViewer" type="button" title="Pop out a larger viewer">üîç Pop-out</button>
            </div>
          </div>

          <div class="viewer-shell ep-box" id="viewerShell">
            <canvas id="pdfCanvas" class="viewer-canvas" width="1000" height="1400"></canvas>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer injected by app.js -->
  <div id="siteFooter"></div>

  <!-- PDF pop-out modal -->
  <div class="viewer-modal" id="viewerModal" role="dialog" aria-modal="true" aria-label="Pop-out PDF viewer">
    <div class="card ep-box">
      <div class="head">
        <div>
          <strong>PDF Viewer</strong>
          <span class="meta" id="viewerModalMeta" style="margin-left:10px; opacity:.85; font-size:12px;"></span>
        </div>
        <div style="display:flex; gap:10px;">
          <button class="btn" id="btnViewerClose" type="button">‚úï Close</button>
        </div>
      </div>
      <div class="body">
        <div class="viewer-shell ep-box" id="viewerShellBig">
          <canvas id="pdfCanvasBig" class="viewer-canvas" width="1600" height="2200"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- 21+ gate -->
  <div class="gate" id="ageGate" role="dialog" aria-modal="true" aria-labelledby="gateTitle">
    <div class="card ep-box">
      <h2 id="gateTitle">Adults 21+ Only</h2>
      <p>This section may contain sexually explicit descriptions. You must confirm you are twenty-one (21) or older to view and use the reader.</p>
      <div class="row">
        <label for="gateCheck">
          <input id="gateCheck" type="checkbox" />
          <span>I confirm that I am 21 or older.</span>
        </label>
      </div>
      <div class="actions">
        <button class="btn" id="gateLeave" type="button">Leave</button>
        <button class="btn blue" id="gateEnter" type="button" disabled>Continue</button>
      </div>
      <div class="legal">
        By continuing, you agree you are 21+ and understand the content may be explicit.
      </div>
    </div>
  </div>

  <!-- PDF.js -->
  <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js" crossorigin="anonymous"></script>
  <script>
    if(window.pdfjsLib){
      window.pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js";
    }
  </script>

  <!-- Site header/footer injection -->
  <script src="/config.js?v=12"></script>
  <script src="/app.js?v=12"></script>

  <!-- Epstein Reader logic -->
  <script src="./epstein-tts.js?v=16"></script>
</body>
</html>
